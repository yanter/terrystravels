const w="modulepreload",g=function(u){return"/"+u},f={},v=function(s,a,c){let m=Promise.resolve();if(a&&a.length>0){let o=function(n){return Promise.all(n.map(i=>Promise.resolve(i).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),e=t?.nonce||t?.getAttribute("nonce");m=o(a.map(n=>{if(n=g(n),n in f)return;f[n]=!0;const i=n.endsWith(".css"),d=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${d}`))return;const r=document.createElement("link");if(r.rel=i?"stylesheet":w,i||(r.as="script"),r.crossOrigin="",r.href=n,e&&r.setAttribute("nonce",e),document.head.appendChild(r),i)return new Promise((p,E)=>{r.addEventListener("load",p),r.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${n}`)))})}))}function l(o){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=o,window.dispatchEvent(t),!t.defaultPrevented)throw o}return m.then(o=>{for(const t of o||[])t.status==="rejected"&&l(t.reason);return s().catch(l)})};class y extends HTMLElement{constructor(){super();const s=this.querySelector("button[data-open-modal]"),a=this.querySelector("button[data-close-modal]"),c=this.querySelector("dialog"),m=this.querySelector(".dialog-frame"),l=e=>{("href"in(e.target||{})||document.body.contains(e.target)&&!m.contains(e.target))&&t()},o=e=>{c.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),e?.stopPropagation(),window.addEventListener("click",l)},t=()=>c.close();s.addEventListener("click",o),s.disabled=!1,a.addEventListener("click",t),c.addEventListener("close",()=>{document.body.toggleAttribute("data-search-modal-open",!1),window.removeEventListener("click",l)}),window.addEventListener("keydown",e=>{const n=document.activeElement instanceof HTMLElement&&(["input","select","textarea"].includes(document.activeElement.tagName.toLowerCase())||document.activeElement.isContentEditable);(e.metaKey===!0||e.ctrlKey===!0)&&e.key==="k"?(c.open?t():o(),e.preventDefault()):e.key==="/"&&!c.open&&!n&&(o(),e.preventDefault())}),window.addEventListener("DOMContentLoaded",()=>{h()})}}customElements.define("site-search",y);function h(){(window.requestIdleCallback||(s=>setTimeout(s,1)))(async()=>{const{PagefindUI:s}=await v(async()=>{const{PagefindUI:a}=await import("./ui-core.Di1gRImB.js");return{PagefindUI:a}},[]);new s({element:"#search",showImages:!1,showSubResults:!0})})}document.addEventListener("astro:after-swap",h);export{v as _};
